(self["webpackChunkhsdopusimport"]=self["webpackChunkhsdopusimport"]||[]).push([[383],{4383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var s=n(3673),l=n(2323),i=n(744),a=n.n(i);const x=(0,s.Wm)("img",{src:a()},null,-1);function o(e,t,n,i,a,o){const r=(0,s.up)("q-item-section"),c=(0,s.up)("q-item-label"),u=(0,s.up)("q-item"),m=(0,s.up)("q-separator"),d=(0,s.up)("q-banner"),b=(0,s.up)("q-file"),f=(0,s.up)("q-card-section"),p=(0,s.up)("q-btn"),h=(0,s.up)("q-card-actions"),w=(0,s.up)("q-card"),g=(0,s.up)("q-form"),v=(0,s.up)("XmlDialog"),y=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(y,{class:"flex flex-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",greedy:"",onSubmit:e.onSubmit,onReset:e.onReset},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{flat:"",bordered:"",style:{width:"900px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{avatar:""},{default:(0,s.w5)((()=>[x])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("title")),1)])),_:1}),(0,s.Wm)(c,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("subtitle")),1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(m),e.error?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"text-white bg-negative"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.error),1)])),_:1})):(0,s.ry)("",!0),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{filled:"","lazy-rules":"",accept:".xml",counter:"",modelValue:e.model.citaviFile,"onUpdate:modelValue":t[1]||(t[1]=t=>e.model.citaviFile=t),label:`${e.$t("form.modsXml")}*`,hint:e.$t("form.modsXmlHint"),rules:[t=>!!t||e.$t("form.validation.required")],"counter-label":e.showSize},null,8,["modelValue","label","hint","rules","counter-label"])])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{label:e.$t("form.submit"),type:"submit",color:"primary"},null,8,["label"]),(0,s.Wm)(p,{label:e.$t("form.reset"),type:"reset",color:"primary",flat:"",class:"q-ml-sm"},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["onSubmit","onReset"]),(0,s.Wm)(v,{modelValue:e.showDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showDialog=t),xml:e.transformedXml,onClose:e.onCancel},null,8,["modelValue","xml","onClose"])])),_:1})}var r=n(1959),c=(n(5363),n(3892)),u=n.n(c);n(52);const m='<?xml version="1.0" encoding="utf-8"?>\n\x3c!--/*Transformation in OPUS 4 valides XML\n @author      Stefanie Söhnitz <stefanie.soehnitz@hs-duesseldorf.de>\n @copyright   Hochschulbibliothek Hochschule Düsseldorf, University of Applied Sciences Duesseldorf\n @licence    https://creativecommons.org/licenses/by/4.0/deed.de\n \n Literaturlisten können aus Citavi exportiert werden - Exportfilter: MODS (Metadata Object Description Schema)\n * entferne alle Attribute aus dem root Element <modsCollection>\n * entstandene Datei als opus.xml benennen und als ZIP (package.zip) packen\n * Datei über SWORD an OPUS 4 senden - Achtung: Dateigröße sollte nicht mehr als 2 KB haben, sonst wird ERROR angezeigt\n *****\n literature collections must be exported with citavi - use the export filter: MODS (Metadata Object Description Schema)\n * remove all attributes from the root element <modsCollection>\n * final XML file must be named opus.xml and packed into a package.zip\n * upload the file via SWORD (e.g. use postman) - attention: filesize should not be larger than 2KB, otherwise you get an error\n */--\x3e\n \n<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n  \x3c!-- <xsl:import href="outputTokens.xsl"/> --\x3e\n  <xsl:output method="xml" version="2.0" omit-xml-declaration="yes" indent="yes" encoding="utf-8"/>\n  <xsl:template match="modsCollection">\n    <import>\n      <xsl:for-each select="mods">\n        <opusDocument>\n        \n        \x3c!--Variable für language - deutsch/englisch -> bei anderen Sprachen müssen diese hier ergaenzt werden\n        *****\n        Variable for language - German/English -> for other languages these must be added here--\x3e\n          <xsl:variable name="lang">\n               <xsl:choose>\n              <xsl:when test="language/languageTerm=\'eng\'">\n                <xsl:text>eng</xsl:text>\n              </xsl:when>\n              <xsl:otherwise>\n                <xsl:text>deu</xsl:text>\n              </xsl:otherwise>\n            </xsl:choose>\n          </xsl:variable>\n      \n          <xsl:attribute name="language">\n            <xsl:value-of select="$lang"/>\n          </xsl:attribute>    \n        \n          <xsl:attribute name="type">\n            <xsl:choose>    \n                      \n              <xsl:when test="genre[contains(@valueURI,\'bookPart\')]">\n                <xsl:text>bookpart</xsl:text>\n              </xsl:when>\n              <xsl:when test="genre[contains(@valueURI,\'book\')]">\n                <xsl:text>book</xsl:text>\n              </xsl:when>\n              <xsl:when test="genre[contains(@valueURI,\'article\')]">\n                <xsl:text>article</xsl:text>\n              </xsl:when>\n              <xsl:when test="genre[contains(@valueURI,\'report\')]">\n                <xsl:text>report</xsl:text>\n              </xsl:when>\n              <xsl:when test="genre[contains(@valueURI,\'book\')]">\n                <xsl:text>report</xsl:text>\n              </xsl:when>\n              \n              <xsl:when test="note=\'Masterarbeit\'">\n                <xsl:text>masterthesis</xsl:text>\n              </xsl:when>\n              <xsl:when test="note=\'Bachelorarbeit\'">\n                <xsl:text>bachelorthesis</xsl:text>\n              </xsl:when>\n                <xsl:when test="note=\'Diplomarbeit\'">\n                <xsl:text>diplom</xsl:text>\n              </xsl:when>\n                <xsl:when test="genre[contains(@valueURI,\'doctoralThesis\')]">\n                <xsl:text>doctoralthesis</xsl:text>\n              </xsl:when>\n              \n              <xsl:otherwise>\n                <xsl:text>other</xsl:text>\n              </xsl:otherwise>\n            </xsl:choose>\n          </xsl:attribute>\n          \n          \x3c!--Seitenzahlen / pages--\x3e\n          <xsl:if test="string-length(relatedItem/part/extent/list/text()) &gt; 0">  \n            <xsl:attribute name="pageNumber">\n              <xsl:value-of select="relatedItem/part/extent/list"/>\n            </xsl:attribute>\n            <xsl:attribute name="pageFirst">\n              <xsl:value-of select="substring-before(relatedItem/part/extent/list, \'–\')"/>\n            </xsl:attribute>    \n            <xsl:attribute name="pageLast">\n              <xsl:value-of select="substring-after(relatedItem/part/extent/list, \'–\')"/>\n            </xsl:attribute>          \n          </xsl:if>\n          \n          <xsl:if test="relatedItem/part/detail[@type=\'volume\']">\n            <xsl:attribute name="volume">\n            <xsl:value-of select="relatedItem/part/detail[@type=\'volume\']/number"/>\n          </xsl:attribute>\n          </xsl:if>\n          \n          <xsl:if test="relatedItem/part/detail[@type=\'issue\']">\n            <xsl:attribute name="issue">\n              <xsl:value-of select="relatedItem/part/detail[@type=\'issue\']/number"/>\n            </xsl:attribute>\n           </xsl:if>\n           \n          <xsl:if test="relatedItem/originInfo">\n          <xsl:attribute name="publisherPlace">\n            <xsl:value-of select="relatedItem/originInfo/place/placeTerm"/>\n          </xsl:attribute>\n          </xsl:if>\n          \n          <xsl:if test="relatedItem/originInfo">\n            <xsl:attribute name="publisherName">\n              <xsl:value-of select="relatedItem/originInfo/publisher"/>\n            </xsl:attribute>\n          </xsl:if>\n              \n          <xsl:if test="originInfo">\n          <xsl:attribute name="publisherPlace">\n            <xsl:value-of select="originInfo/place/placeTerm"/>\n          </xsl:attribute>\n          </xsl:if>\n          \n          <xsl:if test="originInfo">\n          <xsl:attribute name="publisherName">\n            <xsl:value-of select="originInfo/publisher"/>\n          </xsl:attribute>\n          </xsl:if>\n          \n          <xsl:if test="originInfo">\n          <xsl:attribute name="creatingCorporation">\n            <xsl:value-of select="originInfo/publisher"/>\n          </xsl:attribute>\n          </xsl:if>\n          \n          <xsl:if test="name[@displayLabel=\'Institution\']">\n          <xsl:attribute name="creatingCorporation">\n            <xsl:value-of select="name[@displayLabel=\'Institution\']/namePart"/>\n          </xsl:attribute>\n          </xsl:if>\n          \n            <xsl:if test="name[@displayLabel=\'Institution\']">\n          <xsl:attribute name="publisherName">\n            <xsl:value-of select="name[@displayLabel=\'Institution\']/namePart"/>\n          </xsl:attribute>\n          </xsl:if>\n                    \n          <xsl:attribute name="belongsToBibliography">\n            <xsl:text>false</xsl:text>\n          </xsl:attribute>\n          \n          \x3c!--ATTENTION: serviceState muss so eingestellt werden - sonst sind Sie direkt veroeffentlicht\n          *****\n          serviceState must be set like this - otherwise you are directly published--\x3e\n          <xsl:attribute name="serverState">\n            <xsl:text>unpublished</xsl:text>\n          </xsl:attribute>\n  \n          <persons>\n            <xsl:for-each select="name">\n              <xsl:if test="role/roleTerm=\'aut\'">\n                <person>\n                  <xsl:attribute name="role">\n                     <xsl:text>author</xsl:text>\n                  </xsl:attribute>\n                  <xsl:attribute name="firstName">\n                    <xsl:value-of select="namePart[@type=\'given\']"/>\n                  </xsl:attribute>\n                  <xsl:attribute name="lastName">\n                    <xsl:value-of select="namePart[@type=\'family\']"/>\n                  </xsl:attribute>\n                </person>\n              </xsl:if>\n                \n              <xsl:if test="role/roleTerm=\'ths\'">\n                <person>\n                  <xsl:attribute name="role">\n                     <xsl:text>referee</xsl:text>\n                  </xsl:attribute>\n                  <xsl:attribute name="firstName">\n                    <xsl:value-of select="namePart[@type=\'given\']"/>\n                  </xsl:attribute>\n                  <xsl:attribute name="lastName">\n                    <xsl:value-of select="namePart[@type=\'family\']"/>\n                  </xsl:attribute>\n                </person>\n              </xsl:if>\n              \n              <xsl:if test="role/roleTerm=\'edt\'">\n                <person>\n                  <xsl:attribute name="role">\n                     <xsl:text>editor</xsl:text>\n                  </xsl:attribute>\n                  <xsl:attribute name="firstName">\n                    <xsl:value-of select="namePart[@type=\'given\']"/>\n                  </xsl:attribute>\n                  <xsl:attribute name="lastName">\n                    <xsl:value-of select="namePart[@type=\'family\']"/>\n                  </xsl:attribute>\n                </person>\n              </xsl:if>\n            </xsl:for-each>\n             \n            <xsl:for-each select="relatedItem/name">\n              <person>\n                <xsl:if test="role/roleTerm=\'edt\'">\n                  <xsl:attribute name="role">\n                      <xsl:text>editor</xsl:text>\n                  </xsl:attribute>\n                  <xsl:attribute name="firstName">\n                    <xsl:value-of select="namePart[@type=\'given\']"/>\n                  </xsl:attribute>\n                  <xsl:attribute name="lastName">\n                    <xsl:value-of select="namePart[@type=\'family\']"/>\n                  </xsl:attribute>\n                </xsl:if>\n              </person>\n             </xsl:for-each>\n          </persons>\n        \n          <dates>\n            <xsl:choose>\n    \n              <xsl:when test="genre[contains(@valueURI,\'doctoralThesis\')]">\n                <date>                  \n                  <xsl:attribute name="type">\n                    <xsl:text>completed</xsl:text>\n                  </xsl:attribute>\n                  <xsl:attribute name="monthDay">\n                    <xsl:text>-</xsl:text>\n                    <xsl:value-of select="substring(originInfo/dateIssued, 5, 6)"/>\n                  </xsl:attribute>\n                  <xsl:attribute name="year">\n                    <xsl:value-of select="substring(originInfo/dateIssued, 1, 4)" />\n                  </xsl:attribute>\n                </date>  \n                          \n                <date>\n                  <xsl:attribute name="type">\n                    <xsl:text>thesisAccepted</xsl:text>\n                  </xsl:attribute>\n                  <xsl:attribute name="year">\n                    <xsl:value-of select="substring(originInfo/dateIssued, 1, 4)" />\n                  </xsl:attribute>\n                </date>\n              </xsl:when>                \n                \n              <xsl:otherwise>\n                <date>\n                  <xsl:attribute name="type">\n                    <xsl:text>completed</xsl:text>\n                  </xsl:attribute>\n              \n                  <xsl:choose>\n                    <xsl:when test="genre[contains(@valueURI,\'article\')]">\n                      <xsl:attribute name="year">\n                        <xsl:value-of select="relatedItem/part/date"/>\n                      </xsl:attribute>\n                    </xsl:when>\n                    <xsl:when test="genre[contains(@valueURI,\'bookPart\')]">\n                      <xsl:attribute name="year">\n                        <xsl:value-of select="relatedItem/originInfo/dateIssued"/>\n                      </xsl:attribute>\n                    </xsl:when>\n                    <xsl:when test="genre[contains(@valueURI,\'report\')]">\n                      <xsl:attribute name="year">\n                        <xsl:value-of select="originInfo/dateIssued"/>\n                      </xsl:attribute>\n                    </xsl:when>\n                    <xsl:when test="genre[contains(@valueURI,\'book\')]">\n                      <xsl:attribute name="year">\n                        <xsl:value-of select="originInfo/dateIssued"/>\n                      </xsl:attribute>\n                    </xsl:when>\n                    <xsl:when test="genre[contains(@valueURI,\'lecture\')]">\n                      <xsl:attribute name="year">\n                        <xsl:value-of select="substring(originInfo/dateIssued, 1, 4)"/>\n                      </xsl:attribute>  \n                    </xsl:when>\n                    <xsl:when test="genre[contains(@valueURI,\'patent\')]">\n                      <xsl:attribute name="year">\n                        <xsl:value-of select="substring(originInfo/dateIssued, 1, 4)"/>\n                      </xsl:attribute>  \n                    </xsl:when>\n                    <xsl:when test="relatedItem">\n                      <xsl:attribute name="year">\n                        <xsl:value-of select="relatedItem/originInfo/dateIssued"/>\n                      </xsl:attribute>\n                    </xsl:when>\n                                  \n                    <xsl:otherwise>\n                      <xsl:attribute name="year">\n                      <xsl:value-of select="originInfo/dateIssued"/>\n                    </xsl:attribute>  \n                    </xsl:otherwise>\n                  </xsl:choose>\n                              \n                </date>\n              </xsl:otherwise>\n            </xsl:choose>  \n          </dates>\n          \n          <titlesMain>\n            <titleMain>\n              <xsl:attribute name="language">\n                <xsl:value-of select="$lang"/>\n              </xsl:attribute>  \n              <xsl:value-of select="titleInfo/title"/>          \n            </titleMain>  \n          </titlesMain>\n      \n          <xsl:if test="relatedItem/titleInfo">\n            <titles>\n              <title>\n                <xsl:attribute name="language">\n                    <xsl:value-of select="$lang"/>\n                  </xsl:attribute>  \n                  <xsl:attribute name="type"><xsl:text>parent</xsl:text></xsl:attribute> \n                <xsl:value-of select="relatedItem/titleInfo/title"/>    \n              </title>\n            </titles>  \n          </xsl:if>\n                    \n          <xsl:if test="abstract">\n            <abstracts>  \n              <abstract>\n                <xsl:attribute name="language">\n                  <xsl:value-of select="$lang"/>\n                </xsl:attribute>  \n                <xsl:value-of select="abstract"/>\n              </abstract>\n            </abstracts>\n          </xsl:if>\n\n          <keywords>\n            <xsl:for-each select="subject">\n              <keyword>\n                <xsl:attribute name="language">\n                  <xsl:value-of select="$lang"/>\n                </xsl:attribute>\n                <xsl:attribute name="type"><xsl:text>uncontrolled</xsl:text></xsl:attribute>\n                <xsl:value-of select="topic"/>\n              </keyword>\n            </xsl:for-each>\n          </keywords>\n          \n          \x3c!--Collection ist HSD spezifisch / hier wird es direkt den entsprechenden Fachbereichen zugeordnet\n          *****\n          Collection is HSD specific / here it is directly assigned to the corresponding departments--\x3e\n          <collections>\n            <collection>\n              <xsl:attribute name="id">\n                <xsl:choose>\n                \x3c!-- IDs sichtbar, wenn man in die Sammlung reingeht und sich die URL anschaut.\n                Beispiel für Fachbereich Architektur:\n                https://opus4.kobv.de/opus4-hs-duesseldorf/solrsearch/index/search/searchtype/collection/id/16221\n                In Citavi wurde ein Schlagwort gesetzt: A_FBA, dadurch findet dann die Zuordnung statt\n                *****\n                IDs visible when you go into the collection and look at the URL.. \n                Example for architecture department:\n                https://opus4.kobv.de/opus4-hs-duesseldorf/solrsearch/index/search/searchtype/collection/id/16221\n                In Citavi a keyword was set: A_FBA, by this the assignment takes place then.--\x3e\n                \n                \x3c!-- Fachbereich / Department--\x3e\n                  <xsl:when test="subject[contains(topic,\'FBA\')]">\n                    <xsl:text>16221</xsl:text>\n                  </xsl:when>            \n                  <xsl:when test="subject[contains(topic,\'FBD\')]">\n                    <xsl:text>16223</xsl:text>\n                  </xsl:when>    \n                  <xsl:when test="subject[contains(topic,\'FBEI\')]">\n                    <xsl:text>16224</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'FBMV\')]">\n                    <xsl:text>16225</xsl:text>\n                  </xsl:when>                    \n                  <xsl:when test="subject[contains(topic,\'FBM\')]">\n                    <xsl:text>16226</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'FBSK\')]">\n                    <xsl:text>16227</xsl:text>\n                  </xsl:when>  \n                  <xsl:when test="subject[contains(topic,\'FBW\')]">\n                    <xsl:text>16228</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'BIB\')]">\n                    <xsl:text>16229</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'Verwaltung\')]">\n                    <xsl:text>16222</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CIT\')]">\n                    <xsl:text>16230</xsl:text>\n                  </xsl:when>                    \n                  <xsl:otherwise>\n                    <xsl:text>16219</xsl:text>\n                  </xsl:otherwise>\n                </xsl:choose>\n              </xsl:attribute>\n            </collection>\n            \n            \x3c!-- Fachdisziplin in DDC / Discipline in DDC--\x3e\n            <collection>\n              <xsl:attribute name="id">\n                <xsl:choose>\n                  <xsl:when test="subject[contains(topic,\'FBSK\')]">\n                    <xsl:text>374</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'FBW\')]">\n                    <xsl:text>398</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'FBMV\')]">\n                    <xsl:text>661</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'FBM\')]">\n                    <xsl:text>116</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'FBEI\')]">\n                    <xsl:text>661</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CIT\')]">\n                    <xsl:text>112</xsl:text>\n                  </xsl:when>\n                </xsl:choose>\n              </xsl:attribute>\n            </collection>\n            \n            \x3c!-- Open Access--\x3e\n            <xsl:if test="subject[contains(topic,\'OA\')]">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16201</xsl:text>\n                </xsl:attribute>\n              </collection>\n            </xsl:if>    \n  \n            \x3c!-- Peer Reviewed--\x3e\n            <xsl:if test="subject[contains(topic,\'peer\')]">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16248</xsl:text>\n                </xsl:attribute>\n              </collection>\n            </xsl:if>  \n            \n            \x3c!-- Redaktionell--\x3e\n            <xsl:if test="subject[contains(topic,\'redaktionell\')]">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16247</xsl:text>\n                </xsl:attribute>\n              </collection>\n            </xsl:if>  \n                  \n            \n            \x3c!-- Open-Access-Weg / Open-Access-Way --\x3e\n            <xsl:if test="contains(classification,\'Gold\')">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16273</xsl:text>                \n                </xsl:attribute>\n              </collection>\n            </xsl:if>  \n            \n            <xsl:if test="contains(classification,\'Hybrid\')">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16275</xsl:text>                \n                </xsl:attribute>\n              </collection>\n            </xsl:if>  \n            \n            <xsl:if test="contains(classification,\'Grün\')">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16274</xsl:text>                \n                </xsl:attribute>\n              </collection>\n            </xsl:if>  \n            \n            <xsl:if test="contains(classification,\'Bronze\')">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16276</xsl:text>                \n                </xsl:attribute>\n              </collection>\n            </xsl:if>  \n            \n            <xsl:if test="contains(classification,\'Diamant\')">\n              <collection>\n                <xsl:attribute name="id">\n                  <xsl:text>16277</xsl:text>                \n                </xsl:attribute>\n              </collection>\n            </xsl:if>\n          </collections>\n          \n          \x3c!-- Lizenzen - wenn es keine gibt wird standardmäßig immer auf "Keine Lizenz - Nur Metadaten gestellt" hingewiesen\n          *****\n          Licenses - if there are none, the default is always "No license - Only metadata provided"--\x3e\n          \n          <licences>\n            <licence>\n              <xsl:attribute name="id">\n                <xsl:choose>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_4.0\')]">\n                    <xsl:text>13</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_SA_4.0\')]">\n                    <xsl:text>14</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_NC_4.0\')]">\n                    <xsl:text>15</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_ND_4.0\')]">\n                    <xsl:text>16</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_NC_SA_4.0\')]">\n                    <xsl:text>17</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_NC_ND_4.0\')]">\n                    <xsl:text>18</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_3.0\')]">\n                    <xsl:text>4</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_SA_3.0\')]">\n                    <xsl:text>5</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_ND_3.0\')]">\n                    <xsl:text>6</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_NC_3.0\')]">\n                    <xsl:text>8</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_NC_ND_3.0\')]">\n                    <xsl:text>3</xsl:text>\n                  </xsl:when>\n                  <xsl:when test="subject[contains(topic,\'CC_BY_NC_SA_3.0\')]">\n                    <xsl:text>7</xsl:text>\n                  </xsl:when>\n              \n                  <xsl:otherwise>\n                    <xsl:text>20</xsl:text>\n                  </xsl:otherwise>\n                </xsl:choose>\n              </xsl:attribute>\n            </licence>\n          </licences>\n          \n          \n          <identifiers>\n            <xsl:if test="identifier[@type=\'isbn\']">\n              <identifier>\n                <xsl:attribute name="type"><xsl:text>isbn</xsl:text></xsl:attribute>              \n                <xsl:value-of select="identifier[@type=\'isbn\']"/>      \n              </identifier>\n            </xsl:if>\n            \n            <xsl:if test="relatedItem/identifier[@type=\'isbn\']">\n              <identifier>\n                <xsl:attribute name="type"><xsl:text>isbn</xsl:text></xsl:attribute>              \n                <xsl:value-of select="relatedItem/identifier[@type=\'isbn\']"/>      \n              </identifier>\n            </xsl:if>  \n                        \n            <xsl:if test="identifier[@type=\'urn\']">\n              <identifier>\n                <xsl:attribute name="type"><xsl:text>urn</xsl:text></xsl:attribute>              \n                <xsl:value-of select="identifier[@type=\'urn\']"/>      \n              </identifier>\n            </xsl:if>\n            \n            <xsl:if test="identifier[@type=\'doi\']">\n              <identifier>\n                <xsl:attribute name="type"><xsl:text>doi</xsl:text></xsl:attribute>              \n                <xsl:value-of select="identifier[@type=\'doi\']"/>      \n              </identifier>\n            </xsl:if>\n          \n            <xsl:if test="location/url">\n              <identifier>\n                <xsl:attribute name="type"><xsl:text>url</xsl:text></xsl:attribute>              \n                <xsl:value-of select="location/url"/>      \n              </identifier>\n            </xsl:if>\n          </identifiers>\n          \n          <xsl:if test="string-length(note[@displayLabel=\'Notiz\']/text()) &gt; 0">\n            <notes>\n              <note>\n                <xsl:attribute name="visibility">\n                  <xsl:text>public</xsl:text>\n                </xsl:attribute>\n                <xsl:value-of select="note[@displayLabel=\'Notiz\']"/>\n              </note>\n            </notes>\n          </xsl:if>\n  \n        \n        </opusDocument>        \n      </xsl:for-each>\n    </import>\n  </xsl:template>  \n\n</xsl:stylesheet>\n';function d(e){return new Promise((t=>{const n=new FileReader;n.onload=e=>{const n=e.target.result.replace(/dcterms:/g,"").replace(/<modsCollection (.*)>/,"<modsCollection>"),s=new DOMParser,l=s.parseFromString(n,"text/xml"),i=s.parseFromString(m,"text/xml"),a=new XSLTProcessor;a.importStylesheet(i);const x=a.transformToDocument(l);t(x.documentElement.outerHTML)},n.readAsText(e)}))}function b(e){const t=new(u());return t.file("opus.xml",e),t.generateAsync({type:"blob"})}function f(e,t,n,i,a,x){const o=(0,s.up)("q-item-label"),r=(0,s.up)("q-item-section"),c=(0,s.up)("q-item"),u=(0,s.up)("q-separator"),m=(0,s.up)("q-input"),d=(0,s.up)("q-btn"),b=(0,s.up)("q-space"),f=(0,s.up)("q-card-actions"),p=(0,s.up)("q-card"),h=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.j4)(h,{"model-value":n.modelValue,persistent:"","no-esc-dismiss":"","no-backdrop-dismiss":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:modelValue",t))},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("transformation.title")),1)])),_:1}),(0,s.Wm)(o,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("transformation.subtitle")),1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(u),(0,s.Wm)(m,{style:{"max-height":"70vh"},class:"scroll q-px-md",type:"textarea",readonly:"","model-value":n.xml,rows:"25"},null,8,["model-value"]),(0,s.Wm)(u),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{label:e.$t("form.download"),color:"primary",class:"q-ml-sm",onClick:i.onDownload},null,8,["label","onClick"]),(0,s.Wm)(b),(0,s.Wm)(d,{label:e.$t("form.cancel"),color:"primary",flat:"",class:"q-ml-sm",onClick:t[1]||(t[1]=t=>e.$emit("close"))},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["model-value"])}var p=n(3139);const h={props:{modelValue:{type:Boolean,required:!0},xml:{type:String,required:!0}},emits:["close","update:modelValue"],setup(e){const t=()=>{b(e.xml).then((e=>{(0,p.saveAs)(e,"opos.zip")}))};return{onDownload:t}}};var w=n(1507),g=n(151),v=n(3414),y=n(2035),I=n(2350),C=n(5869),_=n(2426),S=n(9367),k=n(8240),D=n(2025),B=n(7518),j=n.n(B);h.render=f;const W=h;j()(h,"components",{QDialog:w.Z,QCard:g.Z,QItem:v.Z,QItemSection:y.Z,QItemLabel:I.Z,QSeparator:C.Z,QInput:_.Z,QCardActions:S.Z,QBtn:k.Z,QSpace:D.Z});const z=(0,s.aZ)({components:{XmlDialog:W},setup(){const e=(0,r.iH)({citaviFile:null}),t=(0,r.iH)(""),n=(0,r.iH)(!1),s=(0,r.iH)(""),l=()=>{const t=(0,r.IU)(e.value);d(t.citaviFile).then((e=>{s.value=e,n.value=!0}))},i=()=>{e.value={citaviFile:null}},a=()=>{n.value=!1,d.value="",i()},x=({totalSize:e})=>e;return{model:e,error:t,onSubmit:l,onReset:i,showSize:x,onCancel:a,showDialog:n,transformedXml:s}}});var q=n(4379),F=n(5269),N=n(5607),R=n(5589),U=n(9116);z.render=o;const Z=z;j()(z,"components",{QPage:q.Z,QForm:F.Z,QCard:g.Z,QItem:v.Z,QItemSection:y.Z,QItemLabel:I.Z,QSeparator:C.Z,QBanner:N.Z,QCardSection:R.Z,QFile:U.Z,QCardActions:S.Z,QBtn:k.Z})},744:(e,t,n)=>{e.exports=n.p+"img/logo.9cbf83ac.png"}}]);